---
title: 'Plant Webhooks'
openapi: 'POST /webhooks'
description: 'Set up webhooks to receive real-time plant updates'
---

## Overview

Webhooks allow you to receive real-time notifications when events happen in your garden, such as when plants need watering, are ready for harvest, or require attention.

## Setting Up Webhooks

```http
POST /api/webhooks
```

### Request Body

| Field | Type | Required | Description |
|-------|------|----------|-------------|
| `url` | string | Yes | The URL where webhook events will be sent |
| `events` | array | Yes | List of events to subscribe to |
| `secret` | string | No | Secret key for webhook verification |

### Available Events

- `plant.created` - When a new plant is added
- `plant.updated` - When plant information is modified
- `plant.deleted` - When a plant is removed
- `plant.needs_water` - When a plant requires watering
- `plant.ready_harvest` - When a plant is ready for harvest

## Example Request

```bash
curl -X POST "https://api.example.com/webhooks" \
  -H "Authorization: Bearer YOUR_API_KEY" \
  -H "Content-Type: application/json" \
  -d '{
    "url": "https://your-app.com/webhook-handler",
    "events": ["plant.created", "plant.needs_water"],
    "secret": "your-webhook-secret"
  }'
```

## Response

### Success Response (201 Created)

```json
{
  "id": "webhook_123",
  "url": "https://your-app.com/webhook-handler",
  "events": ["plant.created", "plant.needs_water"],
  "created_at": "2024-01-15T10:30:00Z",
  "status": "active"
}
```

## Webhook Payload Example

When an event occurs, we'll send a POST request to your webhook URL:

```json
{
  "event": "plant.needs_water",
  "timestamp": "2024-01-15T14:30:00Z",
  "data": {
    "plant": {
      "id": 1,
      "name": "Rose",
      "type": "flower",
      "last_watered": "2024-01-10T08:00:00Z",
      "moisture_level": 15
    }
  }
}
```

## Webhook Security

<Info>
We recommend using the `secret` parameter to verify webhook authenticity. The secret is included in the `X-Webhook-Signature` header.
</Info>

<Warning>
Your webhook endpoint should respond with a 2xx status code within 10 seconds, or the delivery will be considered failed.
</Warning> 